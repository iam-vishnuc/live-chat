{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TextChat(_ref){let{socket,onSkip}=_ref;const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const[isTyping,setIsTyping]=useState(false);const[error,setError]=useState(\"\");const messagesEndRef=useRef(null);const typingTimeoutRef=useRef(null);// Auto-scroll to bottom when new messages arrive\nconst scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);// Receive messages\nuseEffect(()=>{if(!socket)return;const handleMessage=msg=>{setMessages(prev=>[...prev,{from:\"stranger\",text:msg,timestamp:new Date()}]);};const handleError=errorMsg=>{setError(errorMsg);setTimeout(()=>setError(\"\"),3000);};const handlePartnerTyping=()=>{setIsTyping(true);};const handlePartnerStopTyping=()=>{setIsTyping(false);};const handlePartnerSkipped=()=>{setMessages(prev=>[...prev,{from:\"system\",text:\"Partner skipped\",timestamp:new Date()}]);};const handleClearChat=()=>{setMessages([]);};socket.on(\"message\",handleMessage);socket.on(\"error\",handleError);socket.on(\"partner-typing\",handlePartnerTyping);socket.on(\"partner-stop-typing\",handlePartnerStopTyping);socket.on(\"partner-skipped\",handlePartnerSkipped);socket.on(\"clear-chat\",handleClearChat);// Cleanup on unmount\nreturn()=>{socket.off(\"message\",handleMessage);socket.off(\"error\",handleError);socket.off(\"partner-typing\",handlePartnerTyping);socket.off(\"partner-stop-typing\",handlePartnerStopTyping);socket.off(\"partner-skipped\",handlePartnerSkipped);socket.off(\"clear-chat\",handleClearChat);if(typingTimeoutRef.current){clearTimeout(typingTimeoutRef.current);}};},[socket]);// Handle typing indicators\nconst handleInputChange=e=>{const value=e.target.value;setInput(value);// Emit typing indicator\nif(value.trim()&&socket){socket.emit(\"typing\");// Clear existing timeout\nif(typingTimeoutRef.current){clearTimeout(typingTimeoutRef.current);}// Stop typing after 1 second of inactivity\ntypingTimeoutRef.current=setTimeout(()=>{if(socket){socket.emit(\"stop-typing\");}},1000);}};// Send message\nconst sendMessage=()=>{const trimmedInput=input.trim();if(trimmedInput===\"\"||!socket)return;// Emit stop typing\nsocket.emit(\"stop-typing\");if(typingTimeoutRef.current){clearTimeout(typingTimeoutRef.current);}// Send message\nsocket.emit(\"message\",trimmedInput);setMessages(prev=>[...prev,{from:\"me\",text:trimmedInput,timestamp:new Date()}]);setInput(\"\");};// Handle Enter key press\nconst handleKeyPress=e=>{if(e.key===\"Enter\"&&!e.shiftKey){e.preventDefault();sendMessage();}};// Format timestamp\nconst formatTime=timestamp=>{if(!timestamp)return\"\";const date=new Date(timestamp);return date.toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",style:{color:\"red\",padding:\"8px\",marginBottom:\"10px\",backgroundColor:\"#ffe6e6\",borderRadius:\"4px\",fontSize:\"14px\"},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"messages\",style:{flex:1,overflowY:\"auto\",border:\"1px solid #ddd\",padding:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\",backgroundColor:\"#f9f9f9\",minHeight:0},children:[messages.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:\"#999\",textAlign:\"center\",marginTop:\"20px\"},children:\"No messages yet. Start the conversation!\"}):messages.map((m,i)=>/*#__PURE__*/_jsxs(\"div\",{className:m.from===\"me\"?\"message-me\":m.from===\"system\"?\"message-system\":\"message-stranger\",style:{marginBottom:\"10px\",padding:\"8px\",borderRadius:\"8px\",backgroundColor:m.from===\"me\"?\"#007bff\":m.from===\"system\"?\"#ff9800\":\"#e9ecef\",color:m.from===\"me\"?\"white\":m.from===\"system\"?\"white\":\"black\",textAlign:m.from===\"me\"?\"right\":\"left\",maxWidth:m.from===\"system\"?\"100%\":\"70%\",marginLeft:m.from===\"me\"?\"auto\":m.from===\"system\"?\"auto\":\"0\",marginRight:m.from===\"me\"?\"0\":m.from===\"system\"?\"auto\":\"auto\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:\"bold\",marginBottom:\"4px\"},children:m.from===\"me\"?\"You\":m.from===\"system\"?\"System\":\"Stranger\"}),/*#__PURE__*/_jsx(\"div\",{children:m.text}),m.timestamp&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"10px\",opacity:0.7,marginTop:\"4px\"},children:formatTime(m.timestamp)})]},i)),isTyping&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"#999\",fontStyle:\"italic\",padding:\"8px\"},children:\"Stranger is typing...\"}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",style:{display:\"flex\",gap:\"10px\",alignItems:\"center\"},children:[onSkip&&/*#__PURE__*/_jsx(\"button\",{onClick:onSkip,className:\"skip-btn\",style:{padding:\"10px 16px\",backgroundColor:\"#ff8c00\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",fontSize:\"14px\",fontWeight:\"bold\",whiteSpace:\"nowrap\",flexShrink:0},children:\"Skip\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:handleInputChange,onKeyPress:handleKeyPress,placeholder:\"Type a message... (Press Enter to send)\",style:{flex:1,padding:\"10px\",border:\"1px solid #ddd\",borderRadius:\"4px\",fontSize:\"14px\"},maxLength:1000}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:!input.trim(),style:{padding:\"10px 20px\",backgroundColor:\"#007bff\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:input.trim()?\"pointer\":\"not-allowed\",opacity:input.trim()?1:0.5,fontSize:\"14px\",fontWeight:\"bold\",flexShrink:0},children:\"Send\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","TextChat","_ref","socket","onSkip","messages","setMessages","input","setInput","isTyping","setIsTyping","error","setError","messagesEndRef","typingTimeoutRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleMessage","msg","prev","from","text","timestamp","Date","handleError","errorMsg","setTimeout","handlePartnerTyping","handlePartnerStopTyping","handlePartnerSkipped","handleClearChat","on","off","clearTimeout","handleInputChange","e","value","target","trim","emit","sendMessage","trimmedInput","handleKeyPress","key","shiftKey","preventDefault","formatTime","date","toLocaleTimeString","hour","minute","className","children","style","color","padding","marginBottom","backgroundColor","borderRadius","fontSize","flex","overflowY","border","minHeight","length","textAlign","marginTop","map","m","i","maxWidth","marginLeft","marginRight","fontWeight","opacity","fontStyle","ref","display","gap","alignItems","onClick","cursor","whiteSpace","flexShrink","type","onChange","onKeyPress","placeholder","maxLength","disabled"],"sources":["C:/Users/vishn/OneDrive/Desktop/live chat/frontend/src/components/TextChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nexport default function TextChat({ socket, onSkip }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Receive messages\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const handleMessage = (msg) => {\r\n      setMessages(prev => [...prev, { from: \"stranger\", text: msg, timestamp: new Date() }]);\r\n    };\r\n\r\n    const handleError = (errorMsg) => {\r\n      setError(errorMsg);\r\n      setTimeout(() => setError(\"\"), 3000);\r\n    };\r\n\r\n    const handlePartnerTyping = () => {\r\n      setIsTyping(true);\r\n    };\r\n\r\n    const handlePartnerStopTyping = () => {\r\n      setIsTyping(false);\r\n    };\r\n\r\n    const handlePartnerSkipped = () => {\r\n      setMessages(prev => [...prev, { from: \"system\", text: \"Partner skipped\", timestamp: new Date() }]);\r\n    };\r\n\r\n    const handleClearChat = () => {\r\n      setMessages([]);\r\n    };\r\n\r\n    socket.on(\"message\", handleMessage);\r\n    socket.on(\"error\", handleError);\r\n    socket.on(\"partner-typing\", handlePartnerTyping);\r\n    socket.on(\"partner-stop-typing\", handlePartnerStopTyping);\r\n    socket.on(\"partner-skipped\", handlePartnerSkipped);\r\n    socket.on(\"clear-chat\", handleClearChat);\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      socket.off(\"message\", handleMessage);\r\n      socket.off(\"error\", handleError);\r\n      socket.off(\"partner-typing\", handlePartnerTyping);\r\n      socket.off(\"partner-stop-typing\", handlePartnerStopTyping);\r\n      socket.off(\"partner-skipped\", handlePartnerSkipped);\r\n      socket.off(\"clear-chat\", handleClearChat);\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [socket]);\r\n\r\n  // Handle typing indicators\r\n  const handleInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setInput(value);\r\n\r\n    // Emit typing indicator\r\n    if (value.trim() && socket) {\r\n      socket.emit(\"typing\");\r\n\r\n      // Clear existing timeout\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n\r\n      // Stop typing after 1 second of inactivity\r\n      typingTimeoutRef.current = setTimeout(() => {\r\n        if (socket) {\r\n          socket.emit(\"stop-typing\");\r\n        }\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  // Send message\r\n  const sendMessage = () => {\r\n    const trimmedInput = input.trim();\r\n    if (trimmedInput === \"\" || !socket) return;\r\n    \r\n    // Emit stop typing\r\n    socket.emit(\"stop-typing\");\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    // Send message\r\n    socket.emit(\"message\", trimmedInput);\r\n    setMessages(prev => [...prev, { from: \"me\", text: trimmedInput, timestamp: new Date() }]);\r\n    setInput(\"\");\r\n  };\r\n\r\n  // Handle Enter key press\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  // Format timestamp\r\n  const formatTime = (timestamp) => {\r\n    if (!timestamp) return \"\";\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      {error && (\r\n        <div className=\"error-message\" style={{ \r\n          color: \"red\", \r\n          padding: \"8px\", \r\n          marginBottom: \"10px\",\r\n          backgroundColor: \"#ffe6e6\",\r\n          borderRadius: \"4px\",\r\n          fontSize: \"14px\"\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"messages\" style={{ \r\n        flex: 1,\r\n        overflowY: \"auto\", \r\n        border: \"1px solid #ddd\",\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\",\r\n        borderRadius: \"4px\",\r\n        backgroundColor: \"#f9f9f9\",\r\n        minHeight: 0\r\n      }}>\r\n        {messages.length === 0 ? (\r\n          <p style={{ color: \"#999\", textAlign: \"center\", marginTop: \"20px\" }}>\r\n            No messages yet. Start the conversation!\r\n          </p>\r\n        ) : (\r\n          messages.map((m, i) => (\r\n            <div\r\n              key={i}\r\n              className={m.from === \"me\" ? \"message-me\" : m.from === \"system\" ? \"message-system\" : \"message-stranger\"}\r\n              style={{\r\n                marginBottom: \"10px\",\r\n                padding: \"8px\",\r\n                borderRadius: \"8px\",\r\n                backgroundColor: m.from === \"me\" ? \"#007bff\" : m.from === \"system\" ? \"#ff9800\" : \"#e9ecef\",\r\n                color: m.from === \"me\" ? \"white\" : m.from === \"system\" ? \"white\" : \"black\",\r\n                textAlign: m.from === \"me\" ? \"right\" : \"left\",\r\n                maxWidth: m.from === \"system\" ? \"100%\" : \"70%\",\r\n                marginLeft: m.from === \"me\" ? \"auto\" : m.from === \"system\" ? \"auto\" : \"0\",\r\n                marginRight: m.from === \"me\" ? \"0\" : m.from === \"system\" ? \"auto\" : \"auto\"\r\n              }}\r\n            >\r\n              <div style={{ fontWeight: \"bold\", marginBottom: \"4px\" }}>\r\n                {m.from === \"me\" ? \"You\" : m.from === \"system\" ? \"System\" : \"Stranger\"}\r\n              </div>\r\n              <div>{m.text}</div>\r\n              {m.timestamp && (\r\n                <div style={{ \r\n                  fontSize: \"10px\", \r\n                  opacity: 0.7, \r\n                  marginTop: \"4px\" \r\n                }}>\r\n                  {formatTime(m.timestamp)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n        {isTyping && (\r\n          <div style={{ \r\n            color: \"#999\", \r\n            fontStyle: \"italic\", \r\n            padding: \"8px\" \r\n          }}>\r\n            Stranger is typing...\r\n          </div>\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <div className=\"input-box\" style={{ \r\n        display: \"flex\", \r\n        gap: \"10px\",\r\n        alignItems: \"center\"\r\n      }}>\r\n        {onSkip && (\r\n          <button\r\n            onClick={onSkip}\r\n            className=\"skip-btn\"\r\n            style={{\r\n              padding: \"10px 16px\",\r\n              backgroundColor: \"#ff8c00\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"4px\",\r\n              cursor: \"pointer\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"bold\",\r\n              whiteSpace: \"nowrap\",\r\n              flexShrink: 0\r\n            }}\r\n          >\r\n            Skip\r\n          </button>\r\n        )}\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={handleInputChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Type a message... (Press Enter to send)\"\r\n          style={{\r\n            flex: 1,\r\n            padding: \"10px\",\r\n            border: \"1px solid #ddd\",\r\n            borderRadius: \"4px\",\r\n            fontSize: \"14px\"\r\n          }}\r\n          maxLength={1000}\r\n        />\r\n        <button\r\n          onClick={sendMessage}\r\n          disabled={!input.trim()}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            backgroundColor: \"#007bff\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: \"4px\",\r\n            cursor: input.trim() ? \"pointer\" : \"not-allowed\",\r\n            opacity: input.trim() ? 1 : 0.5,\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            flexShrink: 0\r\n          }}\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}