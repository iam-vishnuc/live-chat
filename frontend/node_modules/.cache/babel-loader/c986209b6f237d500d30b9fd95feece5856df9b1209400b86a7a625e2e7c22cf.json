{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{io}from\"socket.io-client\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const socket=io(\"http://localhost:3000\");export default function TextChat(){const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");// receive a message\nuseEffect(()=>{socket.on(\"message\",msg=>{setMessages(prev=>[...prev,{from:\"stranger\",text:msg}]);});},[]);// send a message\nconst sendMessage=()=>{if(input.trim()===\"\")return;socket.emit(\"message\",input);setMessages(prev=>[...prev,{from:\"me\",text:input}]);setInput(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.map((m,i)=>/*#__PURE__*/_jsxs(\"p\",{className:m.from===\"me\"?\"me\":\"stranger\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[m.from,\":\"]}),\" \",m.text]},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type a message...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","io","jsxs","_jsxs","jsx","_jsx","socket","TextChat","messages","setMessages","input","setInput","on","msg","prev","from","text","sendMessage","trim","emit","className","children","map","m","i","type","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/vishn/OneDrive/Desktop/live chat/frontend/frontend/src/components/TextChat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst socket = io(\"http://localhost:3000\");\r\n\r\nexport default function TextChat() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  // receive a message\r\n  useEffect(() => {\r\n    socket.on(\"message\", (msg) => {\r\n      setMessages(prev => [...prev, { from: \"stranger\", text: msg }]);\r\n    });\r\n  }, []);\r\n\r\n  // send a message\r\n  const sendMessage = () => {\r\n    if (input.trim() === \"\") return;\r\n    socket.emit(\"message\", input);\r\n    setMessages(prev => [...prev, { from: \"me\", text: input }]);\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <div className=\"messages\">\r\n        {messages.map((m, i) => (\r\n          <p key={i} className={m.from === \"me\" ? \"me\" : \"stranger\"}>\r\n            <strong>{m.from}:</strong> {m.text}\r\n          </p>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"input-box\">\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type a message...\"\r\n        />\r\n        <button onClick={sendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEtC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAE1C,cAAe,SAAS,CAAAM,QAAQA,CAAA,CAAG,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACAC,SAAS,CAAC,IAAM,CACdM,MAAM,CAACM,EAAE,CAAC,SAAS,CAAGC,GAAG,EAAK,CAC5BJ,WAAW,CAACK,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAE,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAEH,GAAI,CAAC,CAAC,CAAC,CACjE,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAIP,KAAK,CAACQ,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,OACzBZ,MAAM,CAACa,IAAI,CAAC,SAAS,CAAET,KAAK,CAAC,CAC7BD,WAAW,CAACK,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAE,CAAEC,IAAI,CAAE,IAAI,CAAEC,IAAI,CAAEN,KAAM,CAAC,CAAC,CAAC,CAC3DC,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,mBACER,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhB,IAAA,QAAKe,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBb,QAAQ,CAACc,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBACjBrB,KAAA,MAAWiB,SAAS,CAAEG,CAAC,CAACR,IAAI,GAAK,IAAI,CAAG,IAAI,CAAG,UAAW,CAAAM,QAAA,eACxDlB,KAAA,WAAAkB,QAAA,EAASE,CAAC,CAACR,IAAI,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACQ,CAAC,CAACP,IAAI,GAD5BQ,CAEL,CACJ,CAAC,CACC,CAAC,cAENrB,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhB,IAAA,UACEoB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEhB,KAAM,CACbiB,QAAQ,CAAGC,CAAC,EAAKjB,QAAQ,CAACiB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CI,WAAW,CAAC,mBAAmB,CAChC,CAAC,cACFzB,IAAA,WAAQ0B,OAAO,CAAEd,WAAY,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,EACxC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}